{% extends "layouts/base.html" %}
{% load static %}
{% load humanize %}
{% load pretify_status %}
{% block browser_title %}Project Info{% endblock %}
{% block content %}

<!-- section Content Layout -->
<section class="w-full max-w-[1440px] mx-auto px-3 py-4">
    <div class="absolute top-0 right-0 w-64 h-64 bg-brand-400/10 rounded-full blur-3xl -mr-16 -mt-16 pointer-events-none"></div>
    <!-- Breadcrumbs & Heading -->
    <div class="mb-8">
        <div class="flex flex-wrap justify-between items-end gap-6">
            <div class="flex flex-col gap-2">
                <h1 class="text-title-sm md:text-title-md font-semibold text-gray-700 dark:text-gray-300 tracking-tight leading-tight">{{ gig.title|truncatewords:5|title }}</h1>
                <div class="flex items-center gap-3">
                    {% if gig.visibility == 'public' %}
                    <span class="px-2.5 py-1 rounded-full bg-blue-500/10 dark:bg-sky-500/10 text-blue-500 dark:text-sky-600 text-xs font-normal">{{ gig.visibility|title }}</span>
                    {% else %}
                    <span class="px-2.5 py-1 rounded-full bg-purple-500/10 dark:bg-purple-500/10 text-purple-500 dark:text-violet-500 text-xs font-normal">{{ gig.visibility|title }}</span>
                    {% endif %}
                    <span class="px-2.5 py-1 rounded-full text-xs font-medium flex items-center gap-1
                        {% if gig.status == 'draft' %}
                            bg-gray-50 dark:bg-gray-100/10 text-gray-800 dark:text-gray-200 border border-gray-200
                        {% elif gig.status == 'pending' %}
                            bg-amber-50 dark:bg-amber-100/10 text-amber-800 dark:text-amber-400 border border-amber-200 dark:border-amber-100
                        {% elif gig.status == 'published' %}
                            bg-success-100 text-success-800 dark:bg-success-50/10 dark:text-success-200 border border-success-200
                        {% elif gig.status == 'in_progress' %}
                            bg-emerald-50 text-emerald-600 dark:bg-emerald-100/10 dark:text-emerald-200 border border-emerald-200
                        {% elif gig.status == 'completed' %}
                            bg-green-600 dark:bg-green-800 text-white border border-green-200
                        {% else %}
                            bg-error-100 dark:bg-error-100/10 text-error-600 dark:text-error-200 border border-error-200
                        {% endif %}">
                        <span class="size-2 rounded-full
                            {% if gig.status == 'draft' %}
                                bg-gray-700 dark:bg-gray-900
                            {% elif gig.status == 'pending' %}
                                bg-amber-800 dark:bg-amber-500
                            {% elif gig.status == 'published' %}
                                bg-success-700 dark:bg-success-400
                            {% elif gig.status == 'in_progress' %}
                                bg-emerald-500 dark:bg-emerald400 animate-pulse
                            {% elif gig.status == 'completed' %}
                                bg-white
                            {% else %}
                                bg-error-700 dark:bg-error-00
                            {% endif %}"></span>
                        {{ gig.status|prettify_status }}
                    </span>
                    <span class="text-gray-500 text-sm font-medium ml-2">{{ gig.created_at|naturaltime }}</span>
                </div>
            </div>
            <div class="flex gap-3">
                <button class="flex min-w-[100px] cursor-pointer items-center justify-center rounded-xl h-11 px-3 md:px-5 bg-brand-500 text-white text-sm font-medium tracking-wide shadow-lg shadow-brand-500/20 hover:bg-brand-500/90 transition-all">
                    <span class="material-symbols-outlined mr-2">payments</span> Pay/Activate
                </button>
                {% if gig.status in editable_statuses %}
                <a href="{% url COLLABORATION_URLS.EDIT_COLLABORATION slug=gig.slug %}" class="flex min-w-[100px] cursor-pointer items-center justify-center rounded-xl h-11 px-3 md:px-5 bg-white dark:bg-slate-800 border border-slate-200 dark:border-slate-700 text-[#0d171b] dark:text-white text-sm font-medium hover:bg-slate-50 dark:hover:bg-slate-700 transition-all">
                    <span class="material-symbols-outlined mr-2">edit</span> Edit Gig
                </a>
                {% endif %}
                <button class="flex cursor-pointer items-center justify-center rounded-xl h-11 px-3 bg-white dark:bg-slate-800 border border-slate-200 dark:border-slate-700 text-[#0d171b] dark:text-white text-sm font-medium hover:bg-slate-50 transition-all">
                    <span class="material-symbols-outlined">share</span>
                </button>
            </div>
        </div>
    </div>
    <div class="grid grid-cols-1 lg:grid-cols-12 gap-8">
        <!-- Left Column: brand-500 Information -->
        <div class="lg:col-span-8 flex flex-col gap-8">
            <!-- Overview Card -->
            <div class="bg-white dark:bg-slate-900 rounded-xl p-6 border border-slate-100 dark:border-slate-800 shadow-sm grid grid-cols-1 sm:grid-cols-3 gap-6">
                <div class="flex flex-col gap-1">
                    <p class="text-gray-500 text-xs font-normal uppercase tracking-wider">Gig/Project Budget</p>
                    <p class="text-[#0d171b] dark:text-gray-300 text-xl font-bold">${{ gig.total_budget|intcomma }}</p>
                    <p class="text-gray-500 text-xs">Total project value</p>
                </div>
                <div class="flex flex-col gap-1 border-l border-slate-100 dark:border-slate-800 sm:pl-6">
                    <p class="text-gray-500 text-xs font-normal uppercase tracking-wider">Timeline</p>
                    <p class="text-[#0d171b] dark:text-gray-300 text-xl font-bold">{{ gig.gig_duration }}</p>
                    <p class="text-gray-500 text-xs">Expected completion</p>
                </div>
                <div class="flex flex-col gap-1 border-l border-slate-100 dark:border-slate-800 sm:pl-6">
                    <p class="text-gray-500 text-xs font-normal uppercase tracking-wider">Payment Type</p>
                    <p class="text-[#0d171b] dark:text-gray-300 text-xl font-bold">Milestones</p>
                    <p class="text-gray-500 text-xs">4 scheduled payments</p>
                </div>
            </div>
            <!-- Gig Description Section -->
            <div class="bg-white dark:bg-slate-900 rounded-xl p-8 border border-slate-100 dark:border-slate-800 shadow-sm">
                <h3 class="text-lg font-semibold mb-4 flex items-center gap-2 text-gray-800 dark:text-gray-400">
                    <span class="material-symbols-outlined text-orange-500 dark:text-gray-500 bg-orange-100 dark:bg-gray-200 p-2 rounded-md">description</span>
                    Gig Description
                </h3>
                <div class="prose dark:prose-invert max-w-none text-gray-500 dark:text-gray-4=600 space-y-4 leading-relaxed">
                    <p>{{ gig.description|striptags }}</p>
                    <ul class="list-disc pl-5 space-y-2">
                        <li>Define and maintain a scalable design system in Figma.</li>
                        <li>Collaborate with product managers to translate complex requirements into intuitive workflows.</li>
                        <li>Conduct user testing and iterate based on feedback.</li>
                        <li>Oversee design-to-development handoffs.</li>
                    </ul>
                </div>
                <div class="mt-8 pt-6 border-t border-slate-100 dark:border-slate-800 flex flex-wrap gap-3">
                    <div class="flex items-center gap-2 bg-slate-50 dark:bg-slate-800 px-3 py-2 rounded-lg border border-slate-200 dark:border-slate-700 cursor-pointer hover:bg-slate-100 transition-colors">
                        <span class="material-symbols-outlined text-brand-500 dark:text-gray-500 dark:hover:text-gray-800">attach_file</span>
                        <span class="text-sm font-medium dark:text-gray-500 dark:hover:text-gray-800">Product_Requirements.pdf</span>
                    </div>
                    <div class="flex items-center gap-2 bg-slate-50 
                        dark:bg-slate-800 px-3 py-2 rounded-lg border 
                        border-slate-200 dark:border-slate-700 cursor-pointer 
                        hover:bg-slate-100 transition-colors">
                        <span class="material-symbols-outlined text-brand-500 dark:text-gray-500 dark:hover:text-gray-800">attach_file</span>
                        <span class="text-sm font-medium dark:text-gray-500 dark:hover:text-gray-800">Design_Brief_v2.docx</span>
                    </div>
                </div>
            </div>
            <!-- Required Roles Section -->
            {% if gig.required_roles.all %}
            <div>
                <div class="flex justify-between items-center mb-4">
                    <h3 class="text-xl font-semibold flex items-center gap-2 text-gray-800 dark:text-gray-400">
                        <span class="material-symbols-outlined text-pink-500 bg-pink-50 dark:text-gray-500 dark:bg-gray-300 p-2 rounded-md ">groups</span>
                        Required Roles
                    </h3>
                    <!-- <button class="text-brand-500 hover:text-brand-400 dark:text-gray-500 dark:hover:text-white text-sm font-medium flex items-center gap-1">
                            <span class="material-symbols-outlined text-sm">add_circle</span> Add Role
                        </button> -->
                </div>
                <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                    <!-- Role Card 1 -->
                    {% for role in gig.required_roles.all %}
                    <div class="bg-white dark:bg-slate-900 p-5 rounded-xl border border-slate-100 dark:border-slate-800 shadow-sm flex flex-col gap-4 text-gray-800 dark:text-gray-400">
                        <div class="flex justify-between items-start">
                            <div>
                                <h4 class="font-medium text-lg">{{ role.niche_name }}</h4>
                                <p class="text-sm text-gray-500">{{ role.role_name }}</p>
                            </div>
                            <span class="px-2 py-0.5 rounded bg-emerald-100 text-emerald-700 dark:bg-success-900/30 dark:text-success-400 text-[10px] font-medium uppercase">Slots: {{ role.slots }}</span>
                        </div>
                        <div class="flex items-center gap-3">
                            <div class="flex-1">
                                <p class="text-sm font-semibold">Workload</p>
                                <p class="text-[11px] text-gray-500">{{ role.workload|prettify_status }}</p>
                            </div>
                            <button class="text-brand-500 dark:text-gray-400 text-sm font-medium">${{ role.budget|intcomma }}</button>
                        </div>
                    </div>
                    {% endfor %}

                    <!-- Role Card 2 -->
                    <div class="bg-white dark:bg-slate-900 p-5 rounded-xl border-2 border-dashed border-slate-200 dark:border-slate-800 flex flex-col items-center justify-center gap-2 py-10 opacity-70">
                        <span class="material-symbols-outlined text-3xl text-slate-300">person_search</span>
                        <div class="text-center">
                            <h4 class="font-medium text-slate-400">Invite Professional</h4>
                        </div>
                    </div>
                </div>
            </div>
            {% endif %}
            <!-- Tabbed Applications Interface -->
            <div class="bg-white dark:bg-slate-900 rounded-xl border border-slate-100 dark:border-slate-800 shadow-sm">

                <!-- Tabs -->
                <div class="border-b border-slate-100 dark:border-slate-800 px-4 overflow-x-auto">
                    <div class="flex gap-8 whitespace-nowrap">
                        <button class="shrink-0 py-4 border-b-2 border-brand-500 dark:border-gray-200 text-brand-500 dark:text-gray-300 text-sm font-medium">
                            Applications (2)
                        </button>
                        <button class="shrink-0 py-4 border-b-2 border-transparent text-gray-500 hover:text-[#0d171b] dark:hover:text-white text-sm font-medium">
                            Shortlisted (3)
                        </button>
                        <button class="shrink-0 py-4 border-b-2 border-transparent text-gray-500 hover:text-[#0d171b] dark:hover:text-white text-sm font-medium">
                            Negotiating (1)
                        </button>
                        <button class="shrink-0 py-4 border-b-2 border-transparent text-gray-500 hover:text-[#0d171b] dark:hover:text-white text-sm font-medium">
                            Collaborators (1)
                        </button>
                    </div>
                </div>

                <!-- Applications -->
                <div class="p-2 overflow-x-auto">
                    <div class="flex flex-col gap-2 min-w-max">

                        <!-- Application Row 1 -->
                        <div class="flex flex-nowrap items-center gap-4 p-4 min-w-max hover:bg-slate-50 dark:hover:bg-slate-800 rounded-xl transition-colors group">

                            <div class="size-12 shrink-0 rounded-xl bg-slate-200 bg-cover bg-center" style="background-image: url('https://lh3.googleusercontent.com/aida-public/AB6AXuDJ-wkCVj52QOBKT4BqUsbyxKGXEyunLG2sBRpOgqVAvr9xoJ048bxIqUAs2roGdHAJwHYr9iG48rR4XygCndR5hXRf8Jop0Wt-ePjruFUIaKUeD5J9ZnqIxm8DFHcyWeOuEAfuwCY3j53M1rSO2GA8g3qz2HuFx8I7A79Lo85B0HteK7s64Mm4pb475F9RLMQxDv2bow6TbmDj9XSqtVdIhtIIKtqqH48-D0QJV7Y3ODlorlrXC5bz7oByPqPlr21cTQQGhcv04Xk');">
                            </div>

                            <div class="flex-1 min-w-[240px] text-gray-800 dark:text-gray-400">
                                <div class="flex items-center gap-2">
                                    <h5 class="font-medium">Alex Morgan</h5>
                                    <span class="px-2 py-0.5 rounded bg-blue-50 text-blue-600 dark:bg-blue-900/20 dark:text-blue-400 text-[10px] font-medium">
                                        98% MATCH
                                    </span>
                                </div>
                                <p class="text-sm text-gray-500">Product Designer • 6 yrs • San Francisco, CA</p>
                            </div>

                            <div class="flex gap-2 shrink-0 opacity-0 group-hover:opacity-100 transition-opacity">
                                <button class="p-2 text-slate-400 hover:text-green-500">
                                    <span class="material-symbols-outlined">check_circle</span>
                                </button>
                                <button class="p-2 text-slate-400 hover:text-red-500">
                                    <span class="material-symbols-outlined">cancel</span>
                                </button>
                            </div>

                            <button class="shrink-0 px-4 py-2 bg-slate-100 dark:bg-gray-800 text-sm text-brand-400 dark:text-gray-300 font-medium rounded-lg hover:bg-brand-500 hover:text-white transition-all">
                                View Application
                            </button>
                        </div>

                        <!-- Application Row 2 -->
                        <div class="flex flex-nowrap items-center gap-4 p-4 min-w-max hover:bg-slate-50 dark:hover:bg-slate-800 rounded-xl transition-colors group">

                            <div class="size-12 shrink-0 rounded-xl bg-slate-200 bg-cover bg-center" style="background-image: url('https://lh3.googleusercontent.com/aida-public/AB6AXuDNZLtQH6jGOTo2bNDbGfAcY0eW4ugCtWosZNURYirLJBhD3D5w2ugXUQGzRXREgn5d0OPdR3IQ8yJqugo6OuT_6CPzP3wLaF9fFYvudp9rKh4ltdxR7wK9GhBB6L1LziLzb72Ws_qyvtg38WWgelLIOMLLCuKqd6YbbUWSoRMZgP1vXs2pq5S5RZBNhxh9e32FqCEz6z3G1USG0v1N9pCvD95g4aRGgmCtL5z6s9wAFwO9pSGmILptgixzGlamFfjAZblN-ySglbY');">
                            </div>

                            <div class="flex-1 min-w-[240px] text-gray-800 dark:text-gray-400">
                                <div class="flex items-center gap-2">
                                    <h5 class="font-medium">Sarah Reed</h5>
                                    <span class="px-2 py-0.5 rounded bg-blue-50 text-blue-600 dark:bg-blue-900/20 dark:text-blue-400 text-[10px] font-medium">
                                        92% MATCH
                                    </span>
                                </div>
                                <p class="text-sm text-gray-500">Senior UI Expert • 9 yrs • London, UK</p>
                            </div>

                            <div class="flex gap-2 shrink-0 opacity-0 group-hover:opacity-100 transition-opacity">
                                <button class="p-2 text-slate-400 hover:text-green-500">
                                    <span class="material-symbols-outlined">check_circle</span>
                                </button>
                                <button class="p-2 text-slate-400 hover:text-red-500">
                                    <span class="material-symbols-outlined">cancel</span>
                                </button>
                            </div>

                            <button class="shrink-0 px-4 py-2 bg-slate-100 dark:bg-gray-800 text-sm text-brand-400 dark:text-gray-300 font-medium rounded-lg hover:bg-brand-500 hover:text-white transition-all">
                                View Application
                            </button>
                        </div>

                    </div>
                </div>

            </div>

            <!-- Timeline & Milestones Section -->
            <div class="bg-white dark:bg-slate-900 rounded-xl p-8 border border-slate-100 dark:border-slate-800 shadow-sm">
                <h3 class="mb-8 text-xl font-semibold flex items-center gap-2 text-gray-800 dark:text-gray-400">
                    <span class="material-symbols-outlined text-emerald-500 bg-emerald-50 dark:text-gray-500 dark:bg-gray-300 p-2 rounded-md">event_upcoming</span>
                    Timeline &amp; Milestones
                </h3>
                <div class="space-y-6 relative before:absolute before:left-4 before:top-2 before:bottom-2 before:w-0.5 before:bg-slate-100 dark:before:bg-slate-800">
                    <!-- Milestone 1 -->
                    <div class="relative pl-12">
                        <div class="absolute left-0 size-8 rounded-full bg-green-500 text-white flex items-center justify-center z-10 border-4 border-white dark:border-slate-900">
                            <span class="material-symbols-outlined text-sm">check</span>
                        </div>
                        <div>
                            <h5 class="font-medium text-[#0d171b] dark:text-white">Project Discovery &amp; Audit</h5>
                            <p class="text-xs text-green-600 font-medium mb-1">COMPLETED</p>
                            <p class="text-sm text-gray-500">Due: Oct 15 • $1,200 payment released</p>
                        </div>
                    </div>
                    <!-- Milestone 2 -->
                    <div class="relative pl-12">
                        <div class="absolute left-0 size-8 rounded-full bg-brand-500 text-white flex items-center justify-center z-10 border-4 border-white dark:border-slate-900 animate-pulse">
                            <span class="material-symbols-outlined text-sm">trending_up</span>
                        </div>
                        <div>
                            <h5 class="font-medium text-[#0d171b] dark:text-white">Core UI Design System</h5>
                            <p class="text-xs text-brand-500 font-medium mb-1">IN PROGRESS</p>
                            <p class="text-sm text-gray-500">Due: Nov 10 • $2,500 pending release</p>
                        </div>
                    </div>
                    <!-- Milestone 3 -->
                    <div class="relative pl-12">
                        <div class="absolute left-0 size-8 rounded-full bg-slate-200 dark:bg-slate-700 text-slate-400 flex items-center justify-center z-10 border-4 border-white dark:border-slate-900">
                            <span class="material-symbols-outlined text-sm">lock</span>
                        </div>
                        <div>
                            <h5 class="font-medium text-slate-400">High-Fidelity Wireframing</h5>
                            <p class="text-xs text-slate-400 font-medium mb-1">LOCKED</p>
                            <p class="text-sm text-slate-400">Due: Dec 05 • $2,000 to be escrowed</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <!-- Right Column: Sidebar Panels -->
        <div class="lg:col-span-4 flex flex-col gap-6">
            <!-- Status Card -->
             {% if gig.status == "pending" %}
                <div class="bg-brand-500/5 dark:bg-brand-500/10 border border-brand-500/20 rounded-xl p-6">
                    <h4 class="font-medium text-brand-500 dark:text-gray-300 mb-2 flex items-center gap-2">
                        <span class="material-symbols-outlined">info</span>
                        Gig Status: pending
                    </h4>
                    <p class="text-sm text-slate-600 dark:text-slate-400 leading-relaxed">
                        Professionals can't see your gig. To begin receiving applications and start collaborating, activate it by funding the project.
                    </p>
                    <a 
                        class="block w-full mt-4 text-center bg-brand-500 text-white font-medium py-3 rounded-xl hover:bg-brand-500/90 transition-all shadow-md"
                        href="{% url PAYMENT_URLS.GIG_PAYMENT_SUMMARY  gig_id=gig.id%}">
                        Activate Project
                    </a>
                </div>
            {% endif %}
            <!-- Budget Summary Card -->
            <div class="bg-white dark:bg-slate-900 text-gray-800 dark:text-gray-300 rounded-xl p-6 border border-slate-100 dark:border-slate-800 shadow-sm">
                <h4 class="font-medium text-lg mb-4">Budget Summary</h4>
                <div class="space-y-4">
                    <div class="flex justify-between items-center text-sm">
                        <span class="text-gray-500">Total Contract Value</span>
                        <span class="font-medium">${{ gig.total_budget|intcomma }}</span>
                    </div>
                    <div class="flex justify-between items-center text-sm">
                        <span class="text-gray-500">Amount Paid</span>
                        <span class="font-medium text-green-600">$1,200.00</span>
                    </div>
                    <div class="flex justify-between items-center text-sm">
                        <span class="text-gray-500">In Escrow</span>
                        <span class="font-medium text-brand-500">$2,500.00</span>
                    </div>
                    <div class="flex justify-between items-center text-sm">
                        <span class="text-gray-500">Balance</span>
                        <span class="font-medium text-blue-500">$2,500.00</span>
                    </div>
                    <div class="pt-4 border-t border-slate-100 dark:border-slate-800">
                        <div class="flex justify-between mb-2">
                            <span class="text-xs font-medium text-gray-500 uppercase tracking-wider">Escrow Coverage</span>
                            <span class="text-xs font-medium text-brand-500">49%</span>
                        </div>
                        <div class="w-full bg-slate-100 dark:bg-slate-800 h-2 rounded-full overflow-hidden">
                            <div class="bg-brand-500 h-full" style="width: 49%"></div>
                        </div>
                        <p class="text-[10px] text-gray-500 mt-2">Fund the next milestone to maintain designer momentum.</p>
                    </div>
                </div>
            </div>
            <!-- Action Panel -->
            <div class="bg-white dark:bg-slate-900 rounded-xl p-6 border border-slate-100 dark:border-slate-800 shadow-sm">
                <h4 class="font-medium text-lg mb-4 text-gray-800 dark:text-gray-300">Active Negotiations</h4>
                <div class="space-y-3">
                    <div class="flex items-center gap-3 p-3 bg-slate-50 dark:bg-slate-800 rounded-lg border border-slate-100 dark:border-slate-700">
                        <div class="size-8 rounded-full bg-slate-300" data-alt="Negotiator avatar 1">
                            <img alt="EB" class="rounded-full" src="https://lh3.googleusercontent.com/aida-public/AB6AXuAVsbgsKj35U6PMwgQmtJ1BkXRe4_OQ6LhcHyfRzzq_7rkIGBXSElr6BbWxauMXTT7Am_nk6xxLaSErvCPxvvgKGRNB2Js3U14kNNcoH_JayYTaM69I-2rRG-0_BLm_Ypfx9NkeQ5MISh2a8r09W_GwgRTDe9jXZW_UTcemtLSy_7aLXX5v2WajzdhksJty40g4GyRMJAbH8WS_YQ1xQmfH7ji2_eAGdA2URm8h7e7GwTnjXjK16C4dWzVY_BxbXnxYXtH_rTemOH0" />
                        </div>
                        <div class="flex-1 min-w-0">
                            <p class="text-xs font-medium truncate text-gray-700 dark:text-gray-400">Lead Product Designer</p>
                            <p class="text-[10px] text-amber-600 font-medium uppercase">Counter-offer received</p>
                        </div>
                        <button class="text-brand-500 dark:text-gray-500 text-xs font-semibold">VIEW</button>
                    </div>
                    <button class="w-full py-2.5 text-sm font-medium border-2 border-brand-500 dark:border-gray-600 hover:border-brand-500/10 text-brand-500 dark:text-gray-400 rounded-xl hover:bg-brand-500 hover:text-white transition-all">
                        View All Negotiations (1)
                    </button>
                </div>
            </div>
            <!-- Participants List -->
            <div class="bg-white dark:bg-slate-900 rounded-xl p-6 border border-slate-100 dark:border-slate-800 shadow-sm">
                <div class="flex justify-between items-center mb-4">
                    <h4 class="font-medium text-gray-800 dark:text-gray-300">Project Team</h4>
                    <span class="text-xs text-gray-500">3/5 Slots</span>
                </div>
                <div class="flex flex-col gap-4">
                    <div class="flex items-center gap-3">
                        <div class="size-10 rounded-full border-2 border-white dark:border-slate-800 shadow-sm" data-alt="Team Member 1">
                            <img alt="YOU" class="rounded-full" src="https://lh3.googleusercontent.com/aida-public/AB6AXuBMi7cmUdVq-16ntfylnH3NLyBzbhNYYPurYlwKw8biTujckLIXjLGd85f8kVYEBdpAyOJ25A1gQF9JqKU16xTQjZlUgintQZqUdRrdu0toK96_APJ9ZGb3rLvV6DqIABYhx3jz10R6rK3UHmGp8XU30R6Qxw3E97iSKksastaXfjGv4n_tD8pbHYX5z2ip9oueTaJdGoVC7hcHH0j45CEnxn2pG5YqbnX0T28KefOGSirPWlMouZJEzjeetMECiPIpez_6zd-qbng" />
                        </div>
                        <div>
                            <p class="text-sm font-medium leading-none text-gray-700 dark:text-gray-400">You (Owner)</p>
                            <p class="text-[11px] text-gray-500">Hiring Manager</p>
                        </div>
                    </div>
                    <div class="flex items-center gap-3">
                        <div class="size-10 rounded-full border-2 border-white dark:border-slate-800 shadow-sm" data-alt="Team Member 2">
                            <img alt="EB" class="rounded-full" src="https://lh3.googleusercontent.com/aida-public/AB6AXuBWvJ9-VDZhe2C1TEfH0qN6hfpy5-bk57-5A-51Aa94LeO7CgEdWsvoqny2OztAtsIb3wgQzbTMwQ7yW4w8eCzH2QCXCrjA1bQKoYcpgoCHi__Odk3fx1-yQwTL5v254i7FueQDCo1iR5-U12TzBoDNXybf7c2yS1YWOHCnpTnr0dtHFI-bcjcEh1ejCg0S9khy3K7aRUzp3U0HoVOcPeEAeP3Mep3jhRP5hvbgVhEqpg2ducHQUMR3l1LbUXm4PzPeFJKz_2DW_qE" />
                        </div>
                        <div>
                            <p class="text-sm font-medium leading-none text-gray-700 dark:text-gray-400">Elena Belova</p>
                            <p class="text-[11px] text-gray-500">Contractor • Lead Designer</p>
                        </div>
                    </div>
                    <div class="flex items-center gap-3 opacity-50">
                        <div class="size-10 rounded-full border-2 border-dashed border-slate-300 flex items-center justify-center">
                            <span class="material-symbols-outlined text-sm text-slate-400">person_add</span>
                        </div>
                        <div>
                            <p class="text-sm font-medium leading-none italic text-gray-700 dark:text-gray-400">Open Role</p>
                            <p class="text-[11px] text-gray-500">no professional</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>
{% endblock %}
{% block custom_page_js %}
<script>
    function gigActions(el) {
        return {
            // busy: false,
            endpoint: el.dataset.endpoint,
            csrfToken: el.dataset.csrfToken,

            async deleteGig() {
                const confirmed = confirm("Are you sure you want to delete this gig?");
                if (!confirmed) return;

                try {
                    const response = await fetch(this.endpoint, {
                        method: "POST",
                        headers: {
                            "X-CSRFToken": this.csrfToken,
                        },
                    });
                    const data = await response.json().catch(() => ({}));
                    if (!response.ok) {
                        showToast(
                            data.message || "Failed to delete gig at this time.",
                            data.status || "error",
                            data.error || "Delete Failed"
                        );
                        return;
                    }
                    showToast(
                        data.message || "Gig successfully Updated!",
                        data.staus || "success",
                        "Action Successfull"
                    );
                    setTimeout(() => {
                        window.location.href = "{% url COLLABORATION_URLS.LIST_COLLABORATIONS %}";
                    }, 3000);
                } catch (error) {
                    alert("Something went wrong. Please try again.");
                }
            }
        }
    }
</script>
{% endblock %}