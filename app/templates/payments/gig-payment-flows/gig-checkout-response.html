{% extends "layouts/base.html" %}
{% load static %}
{% load humanize %}
{% block browser_title %}Gig Payment Validation{% endblock %}
{% block content %}


<section class="relative min-h-screen px-4 rounded-2xl flex items-center justify-center overflow-hidden bg-gradient-to-br from-slate-50 via-white to-slate-100 dark:from-[#0b0f1a] dark:via-[#0f172a] dark:to-[#020617]">
    <!-- Ambient Background Glow -->
    <div class="absolute inset-0 pointer-events-none">
        <div class="absolute -top-32 -left-32 w-[420px] h-[420px] bg-brand-500/20 rounded-full blur-[120px]"></div>
        <div class="absolute bottom-[-120px] right-[-120px] w-[420px] h-[420px] bg-indigo-500/20 rounded-full blur-[140px]"></div>
    </div>

    <!-- Card -->
    <div class="relative z-10 w-full max-w-md rounded-2xl bg-white/90 dark:bg-gray-800 backdrop-blur-xl shadow-2xl border border-gray-200/60 dark:border-gray-700 p-8 text-center">
        <!-- Secure Badge -->
        <div class="mb-6 flex justify-center">
            <div class="inline-flex items-center gap-2 px-4 py-1.5 rounded-full bg-emerald-50 dark:bg-emerald-900/20 border border-emerald-200/60 dark:border-emerald-900/30">
                <span class="material-symbols-outlined text-emerald-600 dark:text-emerald-400 text-sm">lock</span>
                <span class="text-xs font-semibold text-emerald-700 dark:text-emerald-400 tracking-wide uppercase">
                    Secure Payment
                </span>
            </div>
        </div>

        <!-- Loader -->
        <div class="relative flex justify-center mb-6">
            <div class="loader"></div>
        </div>

        <!-- Title -->
        <h1 class="text-2xl font-bold text-slate-900 dark:text-white mb-2">
            Processing your payment
        </h1>

        <p class="text-sm text-slate-500 dark:text-slate-400 mb-8 leading-relaxed">
            Please wait while we securely complete your transaction.
            Do not refresh or close this page.
        </p>

        <!-- Progress -->
        <div class="w-full mb-8">
            <div class="flex justify-between text-xs font-medium text-slate-500 dark:text-slate-400 mb-2">
                <span>Status</span>
                <span class="animate-pulse text-brand-500">Contacting gateway…</span>
            </div>

            <div class="relative h-2 rounded-full bg-slate-200 dark:bg-slate-800 overflow-hidden">
                <div class="absolute inset-y-0 left-0 w-[65%] bg-gradient-to-r from-brand-500 via-indigo-500 to-brand-500 rounded-full">
                    <div class="absolute inset-0 bg-white/30 animate-shimmer"></div>
                </div>
            </div>
        </div>

        <!-- Summary -->
        <div class="border-t border-gray-200 dark:border-gray-800 pt-6 text-sm">
            <div class="flex justify-between mb-2">
                <span class="text-slate-500 dark:text-slate-400">Amount</span>
                <span class="font-semibold text-slate-900 dark:text-white">
                    ${{ gig.total_amount_payable|intcomma }}
                </span>
            </div>

            <div class="flex justify-between items-center">
                <span class="text-slate-500 dark:text-slate-400">Payment Method</span>
                <span class="flex items-center gap-2 font-medium text-slate-700 dark:text-slate-300">
                    Visa •••• 4242
                    <span class="material-symbols-outlined text-base">credit_card</span>
                </span>
            </div>
        </div>

        <!-- Trust Footer -->
        <div class="mt-8 flex items-center justify-center gap-6 text-[10px] uppercase tracking-widest text-slate-400 dark:text-slate-500">
            <div class="flex items-center gap-1.5">
                <span class="material-symbols-outlined text-sm">shield</span>
                <span>256-bit SSL</span>
            </div>
            <div class="h-3 w-px bg-slate-300 dark:bg-slate-700"></div>
            <div class="flex items-center gap-1.5">
                <span class="material-symbols-outlined text-sm">verified_user</span>
                <span>Verified</span>
            </div>
        </div>

    </div>
</section>

<style>
    .loader {
        width: 64px;
        height: 64px;
        border-radius: 50%;
        border: 4px solid rgba(99, 102, 241, 0.2);
        border-top-color: rgb(99, 102, 241);
        animation: spin 1s linear infinite;
    }

    @keyframes spin {
        to {
            transform: rotate(360deg);
        }
    }

    .animate-shimmer {
        animation: shimmer 1.8s infinite linear;
        background: linear-gradient(110deg,
                transparent 25%,
                rgba(255, 255, 255, 0.5) 37%,
                transparent 63%);
    }

    @keyframes shimmer {
        from {
            transform: translateX(-100%);
        }

        to {
            transform: translateX(100%);
        }
    }
</style>
{% endblock %}